import{r as d,a as i,b as o,j as e,H as x,L as l}from"./app-CAworHwX.js";import{A as c}from"./AuthenticatedLayout-4_wc7Zqh.js";import"./ApplicationLogo-BURIUWAb.js";import"./transition-BjH_DIvL.js";const m=({event:t})=>{const[s,a]=d.useState(!1),n=r=>new Date(r).toLocaleString();return e.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-4",children:[e.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer hover:bg-gray-50",onClick:()=>a(!s),children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:t.event||"Unknown Event"}),e.jsx("p",{className:"text-sm text-gray-500",children:n(t.created_at)})]}),e.jsx("svg",{className:`w-5 h-5 text-gray-500 transform transition-transform ${s?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s&&e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsx("pre",{className:"text-xs bg-gray-50 p-3 rounded overflow-auto max-h-96",children:JSON.stringify(t.payload,null,2)})})]})};function f({events:t}){const[s,a]=d.useState(!1),{url:n}=i();return React.useEffect(()=>{if(!s)return;const r=setInterval(()=>{o.reload({only:["events"]})},1e4);return()=>clearInterval(r)},[s,n]),e.jsxs(c,{children:[e.jsx(x,{title:"BBB Events"}),e.jsx("div",{className:"py-6",children:e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6",children:e.jsxs("div",{className:"p-6 bg-white border-b border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"BigBlueButton Events"}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>a(!s),className:`px-4 py-2 text-sm font-medium rounded-md ${s?"bg-green-100 text-green-800 hover:bg-green-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:s?"Live: ON":"Live: OFF"}),e.jsx("button",{onClick:()=>fetchEvents(page),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"Refresh"})]})]}),t.data.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500",children:"No events found."})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:t.data.map(r=>e.jsx(m,{event:r},r.id))}),e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[t.prev_page_url?e.jsx(l,{href:t.prev_page_url,className:"px-4 py-2 text-sm font-medium text-blue-600 rounded-md hover:bg-blue-50",children:"Previous"}):e.jsx("span",{className:"px-4 py-2 text-sm font-medium text-gray-400 cursor-not-allowed",children:"Previous"}),e.jsxs("div",{className:"text-sm text-gray-700",children:["Page ",t.current_page," of"," ",t.last_page]}),t.next_page_url?e.jsx(l,{href:t.next_page_url,className:"px-4 py-2 text-sm font-medium text-blue-600 rounded-md hover:bg-blue-50",children:"Next"}):e.jsx("span",{className:"px-4 py-2 text-sm font-medium text-gray-400 cursor-not-allowed",children:"Next"})]})]})]})})})})]})}export{f as default};
